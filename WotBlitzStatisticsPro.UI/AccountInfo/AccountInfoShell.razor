@page "/accountinfo/{AccountId:long}"
@inherits AccountInfoShellComponent

@if (PlayerAccountInfo == null)
{
	<h3>Loading...</h3>
}
else
{
	<div class="container-fluid p-3">
		<div class="row">
			<div class="col-sm-4"><h2>@PlayerAccountInfo.NickName</h2></div>
			<div class="col-sm-4 p-2">Last battle: @PlayerAccountInfo.LastBattleTime</div>
			<div class="col-sm-4 p-2">Account created: @PlayerAccountInfo.AccountCreatedAt</div>
		</div>
		<div class="row pt-5">
			<div class="col-sm-4">
				<table class="table table-striped">
					<tbody>
						<tr>
							<td>Battles:</td>
							<td>@PlayerAccountInfo.Battles.ToString("N0")</td>
						</tr>
						<tr>
							<td>Winrate:</td>
							<td>@PlayerAccountInfo.Winrate.ToString("N2") %</td>
						</tr>
						<tr>
							<td>Wn7:</td>
							<td>@PlayerAccountInfo.Wn7.ToString("N0")</td>
						</tr>
						<tr>
							<td>Average damage:</td>
							<td>@PlayerAccountInfo.AvgDamage.ToString("N0")</td>
						</tr>
						<tr>
							<td>Average XP:</td>
							<td>@PlayerAccountInfo.AvgXp.ToString("N0")</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="col-sm-4">
				<p>Top tanks:</p>
				@foreach (var tank in PlayerAccountInfo.TopTanks)
				{
					<div class="row">
						<TankCard TankInfo="tank"></TankCard>
					</div>
				}
			</div>
			<div class="col-sm-4">
				<p>Top achievements:</p>
				@foreach (var achievement in PlayerAccountInfo.Achievements)
				{
					<div class="p-2">
						<img src="@achievement.Image" title="@achievement.Name"/>
						<p>@achievement.Count</p>
					</div>
				}
			</div>
		</div>
	</div>
}