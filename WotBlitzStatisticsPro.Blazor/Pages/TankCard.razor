@using WotBlitzStatisticsPro.Blazor.Helpers
@inject IStringLocalizer<App> Localize;

<div class="card-body">
    <div class="header-area">
        <div class="middle-alligned">
            <img src="@Tank.TankTypeId.TankTypeAsset(Tank.IsPremium)" class="tank-type-icon" />
            @if (Tank.IsPremium)
            {

                <b style="color: @Constants.ClanTagColor; font-size: 21px"> @Tank.Tier.RomanNumber()</b>
            }
            else
            {
                <b style="font-size: 21px"> @Tank.Tier.RomanNumber()</b>
            }
        </div>
        <div>
            <img src="@Tank.MarkOfMastery.IconAsset()" class="mastery-image" />
        </div>
    </div>
    <div class="card-flag-area" style="background-image: url('@Tank.TankNationId.NationAsset()')" title=@($"{@Localize["Wn7"]}: {Tank.Wn7:N0}; {@Localize["Last battle"]}: {Tank.LastBattleTime:d}")>
        <img src=@Tank.PreviewImage class="tank-preview" />
    </div>
    <div>
        @if (Tank.IsPremium)
        {
            <span style="color: @Constants.ClanTagColor;">
                @Tank.Name
            </span>
        }
        else
        {
            @Tank.Name
        }
    </div>
    <div class="statistics-row">
        <div>
            <img src="icons/details.battles.scale-200.png" class="icon-scale" /> @Tank.Battles.ToString("N0")
        </div>
        <div>
            <img src="icons/details.wins.scale-200.png" class="icon-scale" /> <b>@Tank.WinRate.ToString("N0")%</b>
            <div style="background-color: @Tank.WinRate.ScaleColor(); width: 100%; height: 5px; margin-left: 2px; margin-right: 2px;"></div>
        </div>
    </div>
    <div class="statistics-row">
        <div>
            <img src="icons/damage.scale-200.png" class="icon-scale" /> @Tank.AvgDamage.ToString("N0")
        </div>
        <div>
            <img src="icons/xp.avg.scale-200.png" class="icon-scale" /> @Tank.AvgXp.ToString("N0")
        </div>
    </div>
</div>

@code {
    [Parameter]
    public ITank Tank { get; set; }
}
